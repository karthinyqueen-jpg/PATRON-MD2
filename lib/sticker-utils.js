const a12_0x40f3a0=a12_0x3326;(function(_0x6646bd,_0x123b8a){const _0x3e85a1=a12_0x3326,_0x2a98d5=_0x6646bd();while(!![]){try{const _0x18be4c=-parseInt(_0x3e85a1(0xeb))/0x1*(parseInt(_0x3e85a1(0xf0))/0x2)+-parseInt(_0x3e85a1(0xed))/0x3*(parseInt(_0x3e85a1(0xfa))/0x4)+-parseInt(_0x3e85a1(0x110))/0x5+parseInt(_0x3e85a1(0x105))/0x6+parseInt(_0x3e85a1(0xf9))/0x7+parseInt(_0x3e85a1(0xe3))/0x8*(parseInt(_0x3e85a1(0xdf))/0x9)+parseInt(_0x3e85a1(0xe7))/0xa;if(_0x18be4c===_0x123b8a)break;else _0x2a98d5['push'](_0x2a98d5['shift']());}catch(_0x2412a2){_0x2a98d5['push'](_0x2a98d5['shift']());}}}(a12_0x59f6,0x2f6dc));const axios=require('axios'),fs=require('fs'),path=require(a12_0x40f3a0(0xdc)),{tmpdir}=require('os'),Crypto=require('crypto'),ffmpegPath=require(a12_0x40f3a0(0xf7))[a12_0x40f3a0(0xdc)],ffmpeg=require(a12_0x40f3a0(0xe1));function a12_0x3326(_0x24cf9f,_0x311cdf){const _0x59f69e=a12_0x59f6();return a12_0x3326=function(_0x3326e4,_0x23a6f8){_0x3326e4=_0x3326e4-0xd9;let _0x4c5fc4=_0x59f69e[_0x3326e4];return _0x4c5fc4;},a12_0x3326(_0x24cf9f,_0x311cdf);}ffmpeg[a12_0x40f3a0(0xea)](ffmpegPath);function a12_0x59f6(){const _0x178b0d=['1768385pRHQvN','webp','rTWwp','WNcbz','path','addOutputOptions','-vf','34893velIVH','unlinkSync','fluent-ffmpeg','join','376zSNbVz','PmUTD','randomBytes','hbcBQ','1154170jNAfah','LFDPq','.gif','setFfmpegPath','5XJnGZE','ORKpZ','119721BHFgfz','-an','EWqgT','3190pNwobj','KoWAW','-vcodec','oGmLV','Error\x20fetching\x20GIF:','uoupr','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,pad=320:320:-1:-1:color=white@0.0,split\x20[a][b];[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];[b][p]\x20paletteuse','@ffmpeg-installer/ffmpeg','arraybuffer','1512154PHygQS','28dlQsni','get','pSsSB','error','-loop','-vsync','writeFileSync','Could\x20not\x20fetch\x20image.','data','default','save','1929666FESLxZ','QhnBi','toString','SZtWB','tuiwM','libwebp','ZMIgz','ECwft','LuOwp','end','Could\x20not\x20fetch\x20GIF.'];a12_0x59f6=function(){return _0x178b0d;};return a12_0x59f6();}async function fetchImage(_0x1203c9){const _0x3c2768=a12_0x40f3a0,_0x4e6a7e={'pdiUK':_0x3c2768(0xf8),'tuiwM':'Error\x20fetching\x20image:','SZtWB':_0x3c2768(0x101)};try{const _0x57b460=await axios[_0x3c2768(0xfb)](_0x1203c9,{'responseType':_0x4e6a7e['pdiUK']});return _0x57b460[_0x3c2768(0x102)];}catch(_0xf0c1b2){console[_0x3c2768(0xfd)](_0x4e6a7e[_0x3c2768(0x109)],_0xf0c1b2);throw new Error(_0x4e6a7e[_0x3c2768(0x108)]);}}async function fetchGif(_0x51f188){const _0x2b501a=a12_0x40f3a0,_0x20b5b6={'QhnBi':_0x2b501a(0xf8),'WNcbz':_0x2b501a(0xf4),'PmUTD':_0x2b501a(0x10f)};try{const _0x5cfc86=await axios[_0x2b501a(0xfb)](_0x51f188,{'responseType':_0x20b5b6[_0x2b501a(0x106)]});return _0x5cfc86[_0x2b501a(0x102)];}catch(_0x2c2ae0){console[_0x2b501a(0xfd)](_0x20b5b6[_0x2b501a(0xdb)],_0x2c2ae0);throw new Error(_0x20b5b6[_0x2b501a(0xe4)]);}}async function gifToSticker(_0x5c9b48){const _0x5b8fde=a12_0x40f3a0,_0x5f154b={'LFDPq':function(_0x368b3e,_0x257f92){return _0x368b3e(_0x257f92);},'TjygV':'error','pSsSB':_0x5b8fde(0x10e),'FNHFG':_0x5b8fde(0xf2),'ZMIgz':_0x5b8fde(0x10a),'qCAWj':_0x5b8fde(0xde),'ECwft':_0x5b8fde(0xf6),'rTWwp':_0x5b8fde(0xfe),'EWqgT':'-preset','LuOwp':_0x5b8fde(0x103),'ORKpZ':_0x5b8fde(0xee),'KoWAW':_0x5b8fde(0xff),'oGmLV':_0x5b8fde(0xd9),'uoupr':'hex','vNxDa':function(_0x6e0cb5){return _0x6e0cb5();},'hbcBQ':_0x5b8fde(0xe9)},_0x3be2cc=path[_0x5b8fde(0xe2)](tmpdir(),Crypto[_0x5b8fde(0xe5)](0x6)[_0x5b8fde(0x107)](_0x5f154b[_0x5b8fde(0xf5)])+'.webp'),_0x4980cb=path[_0x5b8fde(0xe2)](_0x5f154b['vNxDa'](tmpdir),Crypto['randomBytes'](0x6)[_0x5b8fde(0x107)](_0x5f154b['uoupr'])+_0x5f154b[_0x5b8fde(0xe6)]);fs[_0x5b8fde(0x100)](_0x4980cb,_0x5c9b48),await new Promise((_0x5cf3d6,_0x2019c4)=>{const _0x3b85fd=_0x5b8fde;_0x5f154b[_0x3b85fd(0xe8)](ffmpeg,_0x4980cb)['on'](_0x5f154b['TjygV'],_0x2019c4)['on'](_0x5f154b[_0x3b85fd(0xfc)],()=>_0x5cf3d6(!![]))[_0x3b85fd(0xdd)]([_0x5f154b['FNHFG'],_0x5f154b[_0x3b85fd(0x10b)],_0x5f154b['qCAWj'],_0x5f154b[_0x3b85fd(0x10c)],_0x5f154b[_0x3b85fd(0xda)],'0',_0x5f154b[_0x3b85fd(0xef)],_0x5f154b[_0x3b85fd(0x10d)],_0x5f154b[_0x3b85fd(0xec)],_0x5f154b[_0x3b85fd(0xf1)],'0'])['toFormat'](_0x5f154b[_0x3b85fd(0xf3)])[_0x3b85fd(0x104)](_0x3be2cc);});const _0x23d648=fs['readFileSync'](_0x3be2cc);return fs[_0x5b8fde(0xe0)](_0x3be2cc),fs[_0x5b8fde(0xe0)](_0x4980cb),_0x23d648;}module['exports']={'fetchImage':fetchImage,'fetchGif':fetchGif,'gifToSticker':gifToSticker};